<div class="page-header">
  <h2>Schedule a Pickup</h2>
  <p>Fill in the details to request a waste pickup</p>
</div>

<div class="row justify-content-center">
  <div class="col-lg-8">
    <div class="card-wz">
      <div *ngIf="errorMsg" class="alert-wz error">{{ errorMsg }}</div>
      <div *ngIf="successMsg" class="alert-wz success"><i class="bi bi-check-circle me-2"></i>{{ successMsg }}</div>

      <form (ngSubmit)="onSubmit()" class="form-wz">
        <div class="form-group">
          <label>Request Title <span class="text-danger">*</span></label>
          <input type="text" [(ngModel)]="form.title" name="title" placeholder="e.g. Weekly plastic disposal" />
        </div>

        <div class="row g-3">
          <div class="col-md-6 form-group">
            <label>Waste Type <span class="text-danger">*</span></label>
            <select [(ngModel)]="form.wasteType" name="wasteType">
              <option value="">Select waste type</option>
              <option *ngFor="let wt of wasteTypes; trackBy: trackByIndex" [value]="wt">{{ wt }}</option>
            </select>
          </div>
          <div class="col-md-6 form-group">
            <label>Estimated Quantity / Weight <span class="text-danger">*</span></label>
            <input type="text" [(ngModel)]="form.estimatedQuantity" name="estimatedQuantity" placeholder="e.g. 5 kg, 2 bags" />
          </div>
        </div>

        <div class="form-group">
          <label>Waste Description (optional)</label>
          <textarea [(ngModel)]="form.description" name="description" placeholder="Describe the waste items..."></textarea>
        </div>

        <div class="form-group">
          <label>Pickup Address / Location <span class="text-danger">*</span></label>
          <input type="text" [(ngModel)]="form.address" name="address" placeholder="Full address for pickup" />
        </div>

        <div class="row g-3">
          <div class="col-md-6 form-group">
            <label>Preferred Pickup Date <span class="text-danger">*</span></label>
            <input type="date" [(ngModel)]="form.preferredDate" name="preferredDate" />
          </div>
          <div class="col-md-6 form-group">
            <label>Preferred Pickup Time <span class="text-danger">*</span></label>
            <input type="time" [(ngModel)]="form.preferredTime" name="preferredTime" />
          </div>
        </div>

        <div class="form-group">
          <label>Contact Details (if different)</label>
          <input type="text" [(ngModel)]="form.contactDetails" name="contactDetails" placeholder="Alternative phone / contact info" />
        </div>

        <div class="d-flex gap-3 mt-3">
          <button type="submit" class="btn-wz-primary" [disabled]="loading">
            <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
            <i *ngIf="!loading" class="bi bi-calendar-check me-2"></i>
            Schedule Pickup
          </button>
          <button type="button" class="btn-wz-outline" (click)="reset()">Reset</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Info panel -->
  <div class="col-lg-4">
    <div class="card-wz" style="background:linear-gradient(135deg,#e8f5e9,#f1f8e9)">
      <h5 class="fw-bold mb-3"><i class="bi bi-info-circle text-success me-2"></i>How it works</h5>
      <ol style="font-size:0.875rem;color:#374151;padding-left:18px;line-height:2">
        <li>Fill in your pickup details</li>
        <li>System saves request as <strong>Open</strong></li>
        <li>Volunteers browse opportunities</li>
        <li>Volunteer <strong>accepts</strong> your request</li>
        <li>Waste is collected at scheduled time</li>
        <li>Pickup marked as <strong>Completed</strong></li>
      </ol>
    </div>
    <div class="card-wz mt-3">
      <h6 class="fw-bold mb-2">Acceptable Waste Types</h6>
      <div class="d-flex flex-wrap gap-2">
        <span *ngFor="let wt of wasteTypes; trackBy: trackByIndex" class="waste-tag waste-{{wt}}">{{ wt }}</span>
      </div>
    </div>
  </div>
</div>
